<!doctype html>
<html lang="en">
  <head>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-YVTDX8FV3W"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'G-YVTDX8FV3W');
    </script>

    <!-- HTML Meta Tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <title>Portfolio - Walter Moore</title>
    <meta name="description" content="The portfolio site for Walter Moore.">
    <meta name="theme-color" content="{{tailwindLightThemeColor}}" media="(prefers-color-scheme: light)">
    <meta name="theme-color" content="{{tailwindDarkThemeColor}}" media="(prefers-color-scheme: dark)">
    
    <!-- Facebook Meta Tags -->
    <meta property="og:url" content="https://waltermoore.me">
    <meta property="og:type" content="website">
    <meta property="og:title" content="Portfolio - Walter Moore">
    <meta property="og:description" content="The portfolio site for Walter Moore.">
    <meta property="og:image" content="/img/waltermoore-og.png">

    <!-- Twitter Meta Tags -->
    <meta name="twitter:card" content="summary_large_image">
    <meta property="twitter:domain" content="waltermoore.me">
    <meta property="twitter:url" content="https://waltermoore.me">
    <meta name="twitter:title" content="Portfolio - Walter Moore">
    <meta name="twitter:description" content="The portfolio site for Walter Moore.">
    <meta name="twitter:image" content="/img/waltermoore-og.png">

    <title>{{ title }}</title>
    <link rel="stylesheet" href="/css/styles.css">
    <link rel="apple-touch-icon" sizes="180x180" href="/img/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/img/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/img/favicon-16x16.png">
    <link rel="manifest" href="/img/site.webmanifest">
  </head>
  <body class="text-minimal-primaryDark dark:text-minimal-secondaryLight bg-minimal-lightgray dark:bg-minimal-black">
    <!-- Header -->
    <header class=" bg-minimal-lightgray dark:bg-minimal-black shadow sticky top-0 z-50">
      <div class="container mx-auto px-6 py-4 flex justify-between items-center">
        <a href="/">
          <img src="/img/waltermoore.png" alt="{{ project.title }}" class="w-64"/>
        </a>
        <!-- Hamburger Icon -->
        <button 
          id="menu-toggle" 
          class="lg:hidden block focus:outline-none"
          aria-label="Toggle navigation"
        >
          <!-- Icon (Hamburger) -->
          <svg class="w-6 h-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" fill="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
          </svg>
        </button>

        <!-- Navigation -->
        <nav 
          id="nav-menu" 
          class="hidden lg:block absolute top-full left-0 lg:static lg:flex w-full lg:w-auto bg-minimal-lightgray dark:bg-minimal-black lg:bg-transparent border-t-2 lg:border-t-0 shadow-md lg:shadow-none"
        >
          <ul class="w-[250px] mx-auto my-8 lg:my-0 lg:w-auto lg:mx-0 flex flex-col lg:flex-row items-center lg:space-x-6">
            <li><a href="/" class="nav-link block px-6 py-2 hover:text-minimal-primary">About</a></li>
            <li><a href="/experience" class="nav-link block px-6 py-2 hover:text-minimal-primary">Experience</a></li>
            <li><a href="/portfolio" class="nav-link block px-6 py-2 hover:text-minimal-primary">Portfolio</a></li>
            <li><a href="/contact" class="nav-link block px-6 py-2 hover:text-minimal-primary">Contact</a></li>
          </ul>
        </nav>
      </div>
    </header>
    <main class="min-h-screen">
      {{ content | safe }}
    </main>
    <!-- Footer -->
    <footer class="py-4">
      <div class="container mx-auto px-6 text-center">
        <p>&copy; 2024 Walter Moore. All Rights Reserved.</p>
      </div>
    </footer>
    <!-- JavaScript for Toggle -->
    <script>
      const menuToggle = document.getElementById('menu-toggle');
      const navMenu = document.getElementById('nav-menu');

      menuToggle.addEventListener('click', () => {
        navMenu.classList.toggle('hidden');
        navMenu.classList.toggle('block');
      });

      document.addEventListener("DOMContentLoaded", function () {
        // Get current path
        const currentPath = window.location.pathname;

        // Select all nav links
        const navLinks = document.querySelectorAll(".nav-link");

        // Loop through each link and check if it matches the current path
        navLinks.forEach(link => {
          if ( currentPath.slice(0,-1) === link.getAttribute("href") || currentPath === link.getAttribute("href") ) {
            link.classList.add("underline");
            link.classList.add("text-minimal-secondary");
            link.classList.add("dark:text-minimal-primary");
          }
        });
      });
    </script>
  </body>
</html>